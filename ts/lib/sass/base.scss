@use "vars" as *;
@use "root-vars";
@use "button-mixins" as button;
@use "./scrollbar";

$body-color: palette(darkgray, 9);
$body-color-dark: palette(lightgray, 0);
$body-bg: palette(lightgray, 2);
$body-bg-dark: palette(darkgray, 5);
$link-hover-decoration: none;

$utilities: (
    "opacity": (
        property: opacity,
        values: (
            0: 0,
            25: 0.25,
            50: 0.5,
            75: 0.75,
            100: 1,
        ),
    ),
);

@import "bootstrap/scss/bootstrap-reboot";
@import "bootstrap/scss/bootstrap-utilities";

/* Bootstrap "extensions" */
.flex-basis-100 {
    flex-basis: 100%;
}

.flex-basis-75 {
    flex-basis: 75%;
}

html,
body {
    height: 100%;
}

html {
    overscroll-behavior: none;
}

body {
    font-family: inherit;
    overflow-x: hidden;
    /* allow a user-settable background color (falls back to theme's canvas) */
    background: var(--user-bg, var(--canvas, #f6f6f6));
    transition: background-color 260ms ease;
    &:not(.isMac),
    &:not(.isMac) * {
        @include scrollbar.custom;
    }
    &.no-blur * {
        backdrop-filter: none !important;
    }
}

/* Make common content boxes look modern over a colored background.
   This keeps text readable and adds a subtle blur/elevation so user-chosen
   background colors feel fresh without harming legibility. */
.box {
    background-color: rgba(255,255,255,0.9);
    border: 1px solid var(--border);
    box-shadow: 0 8px 28px rgba(0,0,0,0.08);
    backdrop-filter: blur(6px) saturate(110%);
    -webkit-backdrop-filter: blur(6px) saturate(110%);
    transition: background-color 200ms ease, transform 140ms ease, box-shadow 200ms ease;
}

/* Dark mode variant: rely on the night-mode root class generated by the
   SASS variables system. */
:root.night-mode .box {
    background-color: rgba(16,16,18,0.5);
    border: 1px solid rgba(255,255,255,0.06);
    box-shadow: 0 6px 18px rgba(0,0,0,0.36);
}

button:not(.btn, .btn-close) {
    /* override transition for instant hover response */
    transition:
        color var(--transition) ease-in-out,
        box-shadow var(--transition) ease-in-out !important;
    border-radius: prop(border-radius);
    @include button.base;
}

pre,
code,
kbd,
samp {
    unicode-bidi: normal !important;
}

label,
input[type="radio"],
input[type="checkbox"] {
    cursor: pointer;
}

textarea,
input[type="date"],
input[type="text"] {
    border-radius: prop(border-radius);
    outline: none;
    border: 1px solid color(border);
    &:focus {
        border-color: color(border-focus);
    }
}
